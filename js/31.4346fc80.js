"use strict";(self["webpackChunkrebuild_environment_graphite"]=self["webpackChunkrebuild_environment_graphite"]||[]).push([[31],{8231:function(e,a,l){l.d(a,{Tx:function(){return u},Yu:function(){return t},ef:function(){return d},h8:function(){return s},jA:function(){return n},lA:function(){return m},ou:function(){return r},r4:function(){return i}});var o=l(7805);function t(e){return(0,o.Z)({url:"api/get",method:"GET",params:e})}function u(e){return(0,o.Z)({url:"role/get",method:"GET",params:e})}function n(e){return(0,o.Z)({url:"user/get",method:"GET",params:e})}function r(e){return(0,o.Z)({url:"api/create",method:"POST",data:e})}function d(e){return(0,o.Z)({url:"api/delete",method:"DELETE",params:e})}function m(e){return(0,o.Z)({url:"api/update",method:"PUT",data:e})}function i(e){return(0,o.Z)({url:"user/create",method:"POST",params:e})}function s(e){return(0,o.Z)({url:"user/delete",method:"DELETE",params:e})}},3031:function(e,a,l){l.r(a),l.d(a,{default:function(){return A}});var o=l(3396),t=l(7139);const u=e=>((0,o.dD)("data-v-5fff8fee"),e=e(),(0,o.Cn)(),e),n={class:"userManagement-body"},r={class:"userManagement-above"},d={class:"userManagement-above-body"},m=u((()=>(0,o._)("span",null," 角色名 ",-1))),i={class:"userManagement-above-body-input"},s={class:"userManagement-above-body-button"},c={class:"userManagement-under"},p={class:"userManagement-under-body"},f={class:"userManagement-under-body-button"},g={class:"dialog-footer"},b={class:"userManagement-under-body-table"},v={key:0,class:"userManagement-under-body-table-role"},_={key:1},w=["onClick"],W={class:"dialog-footer"},h=["onClick"],V={class:"userManagement-under-body-pagination"};function U(e,a,l,u,U,y){const F=(0,o.up)("el-input"),k=(0,o.up)("el-button"),x=(0,o.up)("el-form-item"),S=(0,o.up)("el-radio"),P=(0,o.up)("el-radio-group"),A=(0,o.up)("el-option"),C=(0,o.up)("el-select"),T=(0,o.up)("el-form"),O=(0,o.up)("el-dialog"),z=(0,o.up)("el-image"),M=(0,o.up)("el-table-column"),D=(0,o.up)("el-table"),I=(0,o.up)("el-pagination"),E=(0,o.Q2)("mode");return(0,o.wg)(),(0,o.iD)("div",n,[(0,o._)("div",r,[(0,o._)("div",d,[m,(0,o._)("div",i,[(0,o.Wm)(F,{modelValue:u.input,"onUpdate:modelValue":a[0]||(a[0]=e=>u.input=e),placeholder:"请输入角色名称",maxlength:"30px"},null,8,["modelValue"])]),(0,o._)("div",s,[(0,o.Wm)(k,{type:"primary",onClick:a[1]||(a[1]=e=>u.searchRole(u.input))},{default:(0,o.w5)((()=>[(0,o.Uk)("查询")])),_:1})])])]),(0,o._)("div",c,[(0,o._)("div",p,[(0,o._)("div",f,[(0,o.Wm)(k,{type:"primary",onClick:a[2]||(a[2]=e=>u.addUser())},{default:(0,o.w5)((()=>[(0,o.Uk)("新增")])),_:1}),(0,o.Wm)(O,{modelValue:u.dialogFormVisible2,"onUpdate:modelValue":a[11]||(a[11]=e=>u.dialogFormVisible2=e),title:"新增用户"},{footer:(0,o.w5)((()=>[(0,o._)("span",g,[(0,o.Wm)(k,{onClick:a[9]||(a[9]=e=>u.closeWindow())},{default:(0,o.w5)((()=>[(0,o.Uk)("取消")])),_:1}),(0,o.Wm)(k,{type:"primary",onClick:a[10]||(a[10]=e=>u.addUser1(u.userForm))},{default:(0,o.w5)((()=>[(0,o.Uk)(" 确认 ")])),_:1})])])),default:(0,o.w5)((()=>[(0,o.Wm)(T,{model:u.userForm},{default:(0,o.w5)((()=>[(0,o.Wm)(x,{label:"账号"},{default:(0,o.w5)((()=>[(0,o.Wm)(F,{modelValue:u.userForm.Name,"onUpdate:modelValue":a[3]||(a[3]=e=>u.userForm.Name=e),autocomplete:"off"},null,8,["modelValue"])])),_:1}),(0,o.Wm)(x,{label:"用户名"},{default:(0,o.w5)((()=>[(0,o.Wm)(F,{modelValue:u.userForm.Account,"onUpdate:modelValue":a[4]||(a[4]=e=>u.userForm.Account=e),autocomplete:"off"},null,8,["modelValue"])])),_:1}),(0,o.Wm)(x,{label:"电话"},{default:(0,o.w5)((()=>[(0,o.Wm)(F,{modelValue:u.userForm.Phone,"onUpdate:modelValue":a[5]||(a[5]=e=>u.userForm.Phone=e),autocomplete:"off"},null,8,["modelValue"])])),_:1}),(0,o.Wm)(x,{label:"性别"},{default:(0,o.w5)((()=>[(0,o.Wm)(P,{modelValue:u.userForm.Sex,"onUpdate:modelValue":a[6]||(a[6]=e=>u.userForm.Sex=e)},{default:(0,o.w5)((()=>[(0,o.Wm)(S,{label:0,value:"男"},{default:(0,o.w5)((()=>[(0,o.Uk)("男")])),_:1}),(0,o.Wm)(S,{label:1,value:"女"},{default:(0,o.w5)((()=>[(0,o.Uk)("女")])),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,o.Wm)(x,{label:"密码 "},{default:(0,o.w5)((()=>[(0,o.Wm)(F,{modelValue:u.userForm.Password,"onUpdate:modelValue":a[7]||(a[7]=e=>u.userForm.Password=e),autocomplete:"off"},null,8,["modelValue"])])),_:1}),(0,o.Wm)(x,{label:"请选择"},{default:(0,o.w5)((()=>[(0,o.Wm)(C,{modelValue:u.userForm._RoleId,"onUpdate:modelValue":a[8]||(a[8]=e=>u.userForm._RoleId=e),placeholder:"Please select a zone"},{default:(0,o.w5)((()=>[(0,o.Wm)(A,{label:"超级管理员",value:"647430fab59debc6e23018c9"})])),_:1},8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue"])]),(0,o._)("div",b,[(0,o.Wm)(D,{data:u.userTable,style:{width:"100%"},"header-cell-style":{textAlign:"center"}},{default:(0,o.w5)((()=>[(0,o.Wm)(M,{prop:"AvatarUrl",label:"头像",width:"180",align:"center"},{default:(0,o.w5)((e=>[(0,o.Wm)(z,{src:u.userTable[e.$index].AvatarUrl},null,8,["src"])])),_:1}),(0,o.Wm)(M,{prop:"name",label:"账号",width:"180",align:"center"}),(0,o.Wm)(M,{prop:"account",label:"用户名",align:"center"}),(0,o.Wm)(M,{prop:"phone",label:"电话",align:"center"}),(0,o.Wm)(M,{prop:"sex",label:"性别",align:"center"}),(0,o.Wm)(M,{prop:"roleId",label:"角色",align:"center"},{default:(0,o.w5)((e=>["647430fab59debc6e23018c9"==u.userTable[e.$index].roleId?((0,o.wg)(),(0,o.iD)("div",v," 超级管理员 ")):(0,o.kq)("",!0),"647430fab59debc6e23018c9"!=u.userTable[e.$index].roleId?((0,o.wg)(),(0,o.iD)("div",_,"普通人")):(0,o.kq)("",!0)])),_:1}),(0,o.Wm)(M,{label:"操作",align:"center"},{default:(0,o.w5)((e=>[(0,o._)("span",{style:{"font-size":"10px",color:"#4d70ff",cursor:"pointer"},onClick:a=>u.getScope(e.$index)},"操作 ",8,w),(0,o.Wm)(O,{modelValue:u.dialogFormVisible3,"onUpdate:modelValue":a[16]||(a[16]=e=>u.dialogFormVisible3=e),title:"Shipping address"},{footer:(0,o.w5)((()=>[(0,o._)("span",W,[(0,o.Wm)(k,{onClick:a[14]||(a[14]=e=>u.dialogFormVisible3=!1)},{default:(0,o.w5)((()=>[(0,o.Uk)("取消")])),_:1}),(0,o.Wm)(k,{type:"primary",onClick:a[15]||(a[15]=e=>u.addUser1(u.userForm))},{default:(0,o.w5)((()=>[(0,o.Uk)(" 确认 ")])),_:1})])])),default:(0,o.w5)((()=>[(0,o.Wm)(T,(0,t.vs)((0,o.F4)(u.updateUserForm)),{default:(0,o.w5)((()=>[(0,o.Wm)(x,{label:"账号"},{default:(0,o.w5)((()=>[(0,o.wy)((0,o.Wm)(F,{autocomplete:"off"},null,512),[[E,u.updateUserForm.Name]])])),_:1}),(0,o.Wm)(x,{label:"用户名"},{default:(0,o.w5)((()=>[(0,o.Wm)(F,{modelValue:u.updateUserForm.Account,"onUpdate:modelValue":a[12]||(a[12]=e=>u.updateUserForm.Account=e),autocomplete:"off"},null,8,["modelValue"])])),_:1}),(0,o.Wm)(x,{label:"电话"},{default:(0,o.w5)((()=>[(0,o.Wm)(F,{modelValue:u.updateUserForm.Phone,"onUpdate:modelValue":a[13]||(a[13]=e=>u.updateUserForm.Phone=e),autocomplete:"off"},null,8,["modelValue"])])),_:1})])),_:1},16)])),_:1},8,["modelValue"]),(0,o._)("span",{style:{"font-size":"10px","margin-left":"10px",color:"#4d70ff",cursor:"pointer"},onClick:a=>u.deleRow(e.$index)},"删除",8,h)])),_:1})])),_:1},8,["data"])]),(0,o._)("div",V,[(0,o.Wm)(I,{background:"",layout:"prev, pager, next",total:u.total,onCurrentChange:u.paging},null,8,["total","onCurrentChange"])])])])])}var y=l(4870),F=l(8231),k=l(7178),x={setup(){let e=(0,y.iH)(""),a=(0,y.iH)(""),l=(0,y.iH)(!1),t=(0,y.iH)(!1),u=(0,y.qj)({AvatarUrl:"",Name:"",Account:"",Phone:"",Sex:"男",Password:"",_RoleId:""}),n=(0,y.iH)({});const r={currPage:"1",pageSize:"9"},d=[{value:"Option1",label:"Option1"},{value:"Option2",label:"Option2"},{value:"Option3",label:"Option3"},{value:"Option4",label:"Option4"},{value:"Option5",label:"Option5"}];let m=(0,y.iH)([""]),i=(0,y.iH)("0");function s(e){(0,F.jA)(e).then((e=>{console.log(e),m.value=e.data.data.pageData,i.value=Number(e.data.data.total)}))}function c(e){let a=(0,y.qj)({currPage:e,pageSize:"9"});(0,F.jA)(a).then((e=>{m.value=e.data.data.pageData}))}function p(e){console.log(e.sex),0==e.Sex?e.Sex="男":1==e.Sex&&(e.Sex="女")}function f(){l.value=!0,console.log(m.value[0])}function g(e){p(e),(0,F.r4)(e).then((e=>{200==e.data.code?((0,k.z8)({message:"添加成功",type:"success"}),s(r)):(0,k.z8)({message:"添加失败",type:"error"})})),l.value=!1,h()}let b=(0,y.iH)("");function v(e){b.value=m.value[e].AvatarUrl,console.log(b.value)}function _(e){t.value=!0,console.log(m.value[e]);let a={Name:m.value[e].name,Account:m.value[e].account,Phone:m.value[e].phone,Sex:m.value[e].sex,_RoleId:m.value[e].roleId};n.value=a,console.log(a)}function w(e){let a={_id:m.value[e]._id};(0,F.h8)(a).then((e=>{200==e.data.code?((0,k.z8)({message:"删除成功",type:"success"}),s(r)):(0,k.z8)({message:"删除失败",type:"error"}),t.value=!1}))}function W(e){let a={currPage:"1",pageSize:"9",name:e};(0,F.jA)(a).then((e=>{200==e.data.code?(m.value=e.data.data.pageData,i.value=Number(e.data.data.total)):(0,k.z8)({message:"查询失败",type:"error"})}))}function h(){u.Name="",u.Account="",u.Phone="",u.Sex="男",u._RoleId="",u.Password=""}function V(){h(),l.value=!1}return(0,o.bv)((()=>{s(r)})),{input:e,value:a,options:d,userTable:m,payload:r,total:i,dialogFormVisible2:l,userForm:u,updateUserForm:n,dialogFormVisible3:t,src1:b,getuserData1:s,paging:c,addUser:f,addUser1:g,deleRow:w,getSex:p,getScope:_,searchRole:W,closeWindow:V,clear:h,getScope1:v}}},S=l(89);const P=(0,S.Z)(x,[["render",U],["__scopeId","data-v-5fff8fee"]]);var A=P}}]);
//# sourceMappingURL=31.4346fc80.js.map