"use strict";(self["webpackChunkrebuild_environment_graphite"]=self["webpackChunkrebuild_environment_graphite"]||[]).push([[39],{8231:function(e,a,l){l.d(a,{Tx:function(){return u},Yu:function(){return o},ef:function(){return i},h8:function(){return p},jA:function(){return d},lA:function(){return m},ou:function(){return n},r4:function(){return r}});var t=l(7805);function o(e){return(0,t.Z)({url:"api/get",method:"GET",params:e})}function u(e){return(0,t.Z)({url:"role/get",method:"GET",params:e})}function d(e){return(0,t.Z)({url:"user/get",method:"GET",params:e})}function n(e){return(0,t.Z)({url:"api/create",method:"POST",data:e})}function i(e){return(0,t.Z)({url:"api/delete",method:"DELETE",params:e})}function m(e){return(0,t.Z)({url:"api/update",method:"PUT",data:e})}function r(e){return(0,t.Z)({url:"user/create",method:"POST",params:e})}function p(e){return(0,t.Z)({url:"user/delete",method:"DELETE",params:e})}},1039:function(e,a,l){l.r(a),l.d(a,{default:function(){return L}});var t=l(3396);const o=e=>((0,t.dD)("data-v-0d2cdc32"),e=e(),(0,t.Cn)(),e),u={class:"apiManagement-body"},d={class:"apiManagement-above"},n={class:"apiManagement-above-body"},i=o((()=>(0,t._)("span",null," api名称 ",-1))),m={class:"apiManagement-above-body-input"},r=o((()=>(0,t._)("span",{style:{"margin-left":"5%"}}," 方法 ",-1))),p={class:"apiManagement-above-body-select"},c={class:"apiManagement-above-body-button"},s={class:"apiManagement-under"},f={class:"apiManagement-under-body"},b={class:"apiManagement-under-body-button"},g={class:"dialog-footer"},h={class:"apiManagement-under-body-table"},v=["onClick"],w={class:"dialog-footer"},W=["onClick"],_={class:"apiManagement-under-body-pagination"};function V(e,a,l,o,V,E){const T=(0,t.up)("el-input"),y=(0,t.up)("el-option"),F=(0,t.up)("el-select"),U=(0,t.up)("el-button"),k=(0,t.up)("el-form-item"),L=(0,t.up)("el-form"),P=(0,t.up)("el-dialog"),C=(0,t.up)("el-ta"),D=(0,t.up)("el-table-column"),S=(0,t.up)("el-table"),z=(0,t.up)("el-pagination");return(0,t.wg)(),(0,t.iD)("div",u,[(0,t._)("div",d,[(0,t._)("div",n,[i,(0,t._)("div",m,[(0,t.Wm)(T,{modelValue:o.input,"onUpdate:modelValue":a[0]||(a[0]=e=>o.input=e),placeholder:"请输入api名称",maxlength:"30px"},null,8,["modelValue"])]),r,(0,t._)("div",p,[(0,t.Wm)(F,{modelValue:o.value,"onUpdate:modelValue":a[1]||(a[1]=e=>o.value=e),class:"m-2",placeholder:"Select"},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(o.options,(e=>((0,t.wg)(),(0,t.j4)(y,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])]),(0,t._)("div",c,[(0,t.Wm)(U,{type:"primary",onClick:a[2]||(a[2]=e=>o.searchApi(o.input,o.value))},{default:(0,t.w5)((()=>[(0,t.Uk)("查询")])),_:1})])])]),(0,t._)("div",s,[(0,t._)("div",f,[(0,t._)("div",b,[(0,t.Wm)(U,{type:"primary",onClick:a[3]||(a[3]=e=>o.dialogFormVisible=!0)},{default:(0,t.w5)((()=>[(0,t.Uk)("新增")])),_:1}),(0,t.Wm)(P,{modelValue:o.dialogFormVisible,"onUpdate:modelValue":a[10]||(a[10]=e=>o.dialogFormVisible=e),title:"增加用户"},{footer:(0,t.w5)((()=>[(0,t._)("span",g,[(0,t.Wm)(U,{onClick:a[8]||(a[8]=e=>o.closeWindow())},{default:(0,t.w5)((()=>[(0,t.Uk)("取消")])),_:1}),(0,t.Wm)(U,{type:"primary",onClick:a[9]||(a[9]=e=>o.addApi1(o.apiForm))},{default:(0,t.w5)((()=>[(0,t.Uk)(" 确认 ")])),_:1})])])),default:(0,t.w5)((()=>[(0,t.Wm)(L,{model:o.apiForm},{default:(0,t.w5)((()=>[(0,t.Wm)(k,{label:"api名称","label-width":o.formLabelWidth},{default:(0,t.w5)((()=>[(0,t.Wm)(T,{modelValue:o.apiForm.name,"onUpdate:modelValue":a[4]||(a[4]=e=>o.apiForm.name=e),autocomplete:"off"},null,8,["modelValue"])])),_:1},8,["label-width"]),(0,t.Wm)(k,{label:"URL","label-width":o.formLabelWidth},{default:(0,t.w5)((()=>[(0,t.Wm)(T,{modelValue:o.apiForm.url,"onUpdate:modelValue":a[5]||(a[5]=e=>o.apiForm.url=e),autocomplete:"off"},null,8,["modelValue"])])),_:1},8,["label-width"]),(0,t.Wm)(k,{label:"method","label-width":o.formLabelWidth},{default:(0,t.w5)((()=>[(0,t.Wm)(F,{modelValue:o.apiForm.method,"onUpdate:modelValue":a[6]||(a[6]=e=>o.apiForm.method=e)},{default:(0,t.w5)((()=>[(0,t.Wm)(y,{label:"GET",value:"GET"}),(0,t.Wm)(y,{label:"POST",value:"POST"}),(0,t.Wm)(y,{label:"PUT",value:"PUT"}),(0,t.Wm)(y,{label:"DELETE",value:"DELETE"})])),_:1},8,["modelValue"])])),_:1},8,["label-width"]),(0,t.Wm)(k,{label:"描述","label-width":o.formLabelWidth},{default:(0,t.w5)((()=>[(0,t.Wm)(T,{modelValue:o.apiForm.desc,"onUpdate:modelValue":a[7]||(a[7]=e=>o.apiForm.desc=e),autocomplete:"off"},null,8,["modelValue"])])),_:1},8,["label-width"])])),_:1},8,["model"])])),_:1},8,["modelValue"])]),(0,t._)("div",h,[(0,t.Wm)(S,{data:o.apiData,style:{width:"100%"},"max-height":"50%"},{default:(0,t.w5)((()=>[(0,t.Wm)(C,{"ble-column":"",prop:"name",label:"api名称","min-width":"20%",align:"center"}),(0,t.Wm)(D,{prop:"url",label:"URL","min-width":"20%",align:"center"}),(0,t.Wm)(D,{prop:"method",label:"方法","min-width":"20%",align:"center"}),(0,t.Wm)(D,{prop:"desc",label:"描述","min-width":"20%",align:"center"}),(0,t.Wm)(D,{label:"操作","min-width":"20%",align:"center"},{default:(0,t.w5)((e=>[(0,t._)("span",{style:{"font-size":"10px",color:"#4d70ff",cursor:"pointer"},onClick:a=>o.getScope(e.$index)},"操作 ",8,v),(0,t.Wm)(P,{modelValue:o.dialogFormVisible1,"onUpdate:modelValue":a[17]||(a[17]=e=>o.dialogFormVisible1=e),title:"增加用户"},{footer:(0,t.w5)((()=>[(0,t._)("span",w,[(0,t.Wm)(U,{onClick:a[15]||(a[15]=e=>o.dialogFormVisible=!1)},{default:(0,t.w5)((()=>[(0,t.Uk)("取消")])),_:1}),(0,t.Wm)(U,{type:"primary",onClick:a[16]||(a[16]=e=>o.operationApi(o.updateForm))},{default:(0,t.w5)((()=>[(0,t.Uk)(" 确认 ")])),_:1})])])),default:(0,t.w5)((()=>[(0,t.Wm)(L,{model:o.updateForm},{default:(0,t.w5)((()=>[(0,t.Wm)(k,{label:"api名称","label-width":o.formLabelWidth},{default:(0,t.w5)((()=>[(0,t.Wm)(T,{modelValue:o.updateForm.name,"onUpdate:modelValue":a[11]||(a[11]=e=>o.updateForm.name=e),autocomplete:"off"},null,8,["modelValue"])])),_:1},8,["label-width"]),(0,t.Wm)(k,{label:"URL","label-width":o.formLabelWidth},{default:(0,t.w5)((()=>[(0,t.Wm)(T,{modelValue:o.updateForm.url,"onUpdate:modelValue":a[12]||(a[12]=e=>o.updateForm.url=e),autocomplete:"off"},null,8,["modelValue"])])),_:1},8,["label-width"]),(0,t.Wm)(k,{label:"method","label-width":o.formLabelWidth},{default:(0,t.w5)((()=>[(0,t.Wm)(F,{modelValue:o.updateForm.method,"onUpdate:modelValue":a[13]||(a[13]=e=>o.updateForm.method=e)},{default:(0,t.w5)((()=>[(0,t.Wm)(y,{label:"GET",value:"GET"}),(0,t.Wm)(y,{label:"POST",value:"POST"}),(0,t.Wm)(y,{label:"PUT",value:"PUT"}),(0,t.Wm)(y,{label:"DELETE",value:"DELETE"})])),_:1},8,["modelValue"])])),_:1},8,["label-width"]),(0,t.Wm)(k,{label:"描述","label-width":o.formLabelWidth},{default:(0,t.w5)((()=>[(0,t.Wm)(T,{modelValue:o.updateForm.desc,"onUpdate:modelValue":a[14]||(a[14]=e=>o.updateForm.desc=e),autocomplete:"off"},null,8,["modelValue"])])),_:1},8,["label-width"])])),_:1},8,["model"])])),_:1},8,["modelValue"]),(0,t._)("span",{style:{"font-size":"10px","margin-left":"10px",color:"#4d70ff",cursor:"pointer"},onClick:a=>o.deleRow(e.$index)},"删除",8,W)])),_:1})])),_:1},8,["data"])]),(0,t._)("div",_,[(0,t.Wm)(z,{background:"",layout:"prev, pager, next",total:o.total,onCurrentChange:o.paging},null,8,["total","onCurrentChange"])])])])])}var E=l(4870),T=l(8231),y=l(7178),F={setup(){let e=(0,E.iH)(""),a=(0,E.iH)(""),l=(0,E.iH)(!1);const o={currPage:"1",pageSize:"9"},u=[{value:"GET",label:"GET"},{value:"POST",label:"POST"},{value:"PUT",label:"PUT"},{value:"DELETE",label:"DELETE"}],d=(0,E.iH)([""]);let n=(0,E.iH)("0");function i(e){(0,T.Yu)(e).then((e=>{console.log(e),d.value=e.data.data.pageData,n.value=Number(e.data.data.total)}))}let m=(0,E.iH)({}),r=(0,E.qj)({name:"",url:"",method:"",desc:""});function p(){r.name="",r.url="",r.method="",r.desc=""}function c(){p(),g.value=!1}function s(e){l.value=!0;let a=(0,E.iH)({_id:d.value[e]._id,name:d.value[e].name,url:d.value[e].url,method:d.value[e].method,desc:d.value[e].desc});m.value=a.value}function f(e){let a=(0,E.qj)({currPage:e,pageSize:"9"});(0,T.Yu)(a).then((e=>{d.value=e.data.data.pageData}))}const b="140px";let g=(0,E.iH)(!1);function h(e){console.log(e);let a=JSON.parse(JSON.stringify(e));console.log(a),g.value=!1,(0,T.ou)(a).then((e=>{console.log(e),200==e.data.code?((0,y.z8)({message:"添加成功",type:"success"}),i(o)):(0,y.z8)({message:"添加失败",type:"error"})})),p()}function v(e){let a={_id:d.value[e]._id};console.log(d.value[e]._id),(0,T.ef)(a).then((e=>{200==e.data.code?((0,y.z8)({message:"删除成功",type:"success"}),i(o)):(0,y.z8)({message:"删除失败",type:"error"})}))}function w(e){(0,T.lA)(e).then((e=>{200==e.data.code?((0,y.z8)({message:"更新成功",type:"success"}),i(o)):(0,y.z8)({message:"更新失败",type:"error"})})),l.value=!1}function W(e,a){let l={name:e,method:a,currPage:"1",pageSize:"9"};(0,T.Yu)(l).then((e=>{console.log(e),200==e.data.code?(d.value=e.data.data.pageData,n.value=Number(e.data.data.total)):(0,y.z8)({message:"查询失败",type:"error"})}))}return(0,t.bv)((()=>{i(o)})),{input:e,value:a,options:u,apiData:d,payload:o,total:n,dialogFormVisible:g,apiForm:r,formLabelWidth:b,dialogFormVisible1:l,updateForm:m,searchApi:W,getApiData:i,paging:f,addApi1:h,deleRow:v,operationApi:w,getScope:s,clear:p,closeWindow:c}}},U=l(89);const k=(0,U.Z)(F,[["render",V],["__scopeId","data-v-0d2cdc32"]]);var L=k}}]);
//# sourceMappingURL=39.e79b61d9.js.map