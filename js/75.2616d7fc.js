"use strict";(self["webpackChunkrebuild_environment_graphite"]=self["webpackChunkrebuild_environment_graphite"]||[]).push([[75],{6075:function(e,a,l){l.r(a),l.d(a,{default:function(){return _}});l(7658);var t=l(3396),i=l(9242),o=l(4870),d=l(7805);function n(e){return(0,d.Z)({url:"getDeviceData",method:"get",params:e})}var u=l(7178);const m=e=>((0,t.dD)("data-v-4377ccae"),e=e(),(0,t.Cn)(),e),s={class:"apiManagement-body"},p={class:"apiManagement-above"},r={class:"apiManagement-under"},c={class:"apiManagement-under-body"},v={key:0},g={key:1},b=m((()=>(0,t._)("div",null,"(ppm)",-1))),h={class:"apiManagement-under-body-pagination"};var V={__name:"unorganizedVOC",setup(e){const a=(0,o.qj)({time:["",""],timeSize:"DataRealTimeHisColl",data:"平均值",value:"V130424RTTS001",total:""});let l=(0,o.iH)(1),d=(0,o.iH)(10);function m(){(0,u.z8)({message:"查询成功",type:"success"})}function V(){let e={currPage:l.value,pageSize:d.value,collName:a.timeSize,deviceCode:a.value,startTime:a.time[0],endTime:a.time[1]};_(e)}let w=(0,o.qj)({vocDate1:[]}),f=null;async function _(e){await n(e).then((e=>{if(w.vocDate1=[],console.log(e),f=e.data.data.dataSet,console.log(23456,f),a.total=e.data.data.total,"DataRealTimeHisColl"!=a.timeSize)for(let l=0;l<f.length;l++){let e={};e["datatime"]=f[l].dataTime,"V130424RTTS001"==a.value?(e["sign"]="无组织VOC",e["ppm"]=f[l].data[a.data]["无组织VOC"],console.log(e)):(e["sign"]="有组织VOC",e["ppm"]=f[l].data[a.data]["有组织VOC"],console.log(e)),w.vocDate1.push(e)}else for(let l=0;l<f.length;l++){let e={};e["datatime"]=f[l].dataTime,"V130424RTTS001"==a.value?(e["sign"]="无组织VOC",e["ppm"]="-",console.log(e)):(e["sign"]="有组织VOC",e["ppm"]=f[l].data["有组织VOC"],console.log(e)),w.vocDate1.push(e)}}))}return(0,t.bv)((()=>{V()})),(e,n)=>{const u=(0,t.up)("el-option"),f=(0,t.up)("el-select"),_=(0,t.up)("el-form-item"),W=(0,t.up)("el-date-picker"),T=(0,t.up)("el-button"),C=(0,t.up)("el-form"),y=(0,t.up)("el-table-column"),D=(0,t.up)("el-table"),S=(0,t.up)("el-pagination");return(0,t.wg)(),(0,t.iD)("div",s,[(0,t._)("div",p,[(0,t.Wm)(C,{inline:!0,class:"apiManagement-above-body"},{default:(0,t.w5)((()=>[(0,t.Wm)(_,{label:"设备"},{default:(0,t.w5)((()=>[(0,t.Wm)(f,{style:{width:"120px"},size:"small",modelValue:a.value,"onUpdate:modelValue":n[0]||(n[0]=e=>a.value=e),placeholder:"无组织voc"},{default:(0,t.w5)((()=>[(0,t.Wm)(u,{label:"无组织voc",value:"V130424RTTS001"}),(0,t.Wm)(u,{label:"有组织voc",value:"V130424RTTS002"})])),_:1},8,["modelValue"])])),_:1}),(0,t.Wm)(_,{label:"时间粒度"},{default:(0,t.w5)((()=>[(0,t.Wm)(f,{style:{width:"120px"},size:"small",modelValue:a.timeSize,"onUpdate:modelValue":n[1]||(n[1]=e=>a.timeSize=e),placeholder:"实时"},{default:(0,t.w5)((()=>[(0,t.Wm)(u,{label:"实时",value:"DataRealTimeHisColl"}),(0,t.Wm)(u,{label:"分钟",value:"DataMinuteHisColl"}),(0,t.Wm)(u,{label:"小时",value:"DataHourHisColl"}),(0,t.Wm)(u,{label:"天",value:"DataDayHisColl"})])),_:1},8,["modelValue"])])),_:1}),(0,t.wy)((0,t.Wm)(_,{label:"数据"},{default:(0,t.w5)((()=>[(0,t.Wm)(f,{style:{width:"120px"},size:"small",modelValue:a.data,"onUpdate:modelValue":n[2]||(n[2]=e=>a.data=e),placeholder:"平均值"},{default:(0,t.w5)((()=>[(0,t.Wm)(u,{label:"平均值",value:"平均值"}),(0,t.Wm)(u,{label:"最小值",value:"最小值"}),(0,t.Wm)(u,{label:"最大值",value:"最大值"})])),_:1},8,["modelValue"])])),_:1},512),[[i.F8,"DataRealTimeHisColl"!=a.timeSize]]),(0,t.wy)((0,t.Wm)(_,{label:"时间"},{default:(0,t.w5)((()=>[(0,t.Wm)(W,{style:{width:"220px"},size:"small",modelValue:a.time,"onUpdate:modelValue":n[3]||(n[3]=e=>a.time=e),type:"datetimerange","range-separator":"至","start-placeholder":"开始时间","end-placeholder":"结束时间","value-format":"YYYY-MM-DD HH:mm:ss"},null,8,["modelValue"])])),_:1},512),[[i.F8,"V130424RTTS001"==a.value]]),(0,t.Wm)(_,null,{default:(0,t.w5)((()=>[(0,t.Wm)(T,{onClick:n[4]||(n[4]=e=>(V(e),m(e))),type:"primary",plain:!0},{default:(0,t.w5)((()=>[(0,t.Uk)("查询")])),_:1})])),_:1})])),_:1})]),(0,t._)("div",r,[(0,t._)("div",c,[(0,t.Wm)(D,{data:(0,o.SU)(w).vocDate1,height:"450",style:{width:"100%"},"max-height":"50%",class:"apiManagement-under-body-table"},{default:(0,t.w5)((()=>[(0,t.Wm)(y,{prop:"datatime",label:"时间",width:"500"}),(0,t.Wm)(y,{prop:"sign",label:"设备名",width:"500"}),(0,t.Wm)(y,{prop:"ppm"},{header:(0,t.w5)((()=>[(0,t._)("div",null,["V130424RTTS001"==a.value?((0,t.wg)(),(0,t.iD)("div",v,"无组织voc")):(0,t.kq)("",!0),"V130424RTTS002"==a.value?((0,t.wg)(),(0,t.iD)("div",g,"有组织voc")):(0,t.kq)("",!0),b])])),_:1}),(0,t.Uk)("> ")])),_:1},8,["data"]),(0,t._)("div",h,[(0,t.Wm)(S,{"current-page":(0,o.SU)(l),"onUpdate:currentPage":n[5]||(n[5]=e=>(0,o.dq)(l)?l.value=e:l=e),"page-size":(0,o.SU)(d),"onUpdate:pageSize":n[6]||(n[6]=e=>(0,o.dq)(d)?d.value=e:d=e),"page-sizes":[10,20,30,40],small:e.small,disabled:e.disabled,background:e.background,layout:"total, sizes, prev, pager, next, jumper",total:a.total,onSizeChange:V,onCurrentChange:V},null,8,["current-page","page-size","small","disabled","background","total"])])])])])}}},w=l(89);const f=(0,w.Z)(V,[["__scopeId","data-v-4377ccae"]]);var _=f}}]);
//# sourceMappingURL=75.2616d7fc.js.map