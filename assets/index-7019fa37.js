import{h as oe,d as L,i as D,j as W,a as s,o as S,k as I,w as t,e,g as i,u as v,f as k,p as q,l as U,b as a,_ as N,c as P,m as E,n as ae,t as A,q as se,F as ie,s as de,v as ce}from"./index-83aefbad.js";const _e=""+new URL("logo2-7d61ba0d.png",import.meta.url).href,O=oe("main",{state:()=>({isColl:!1,tabsData:[{index:0,label:"/instruments",name:"仪表盘"}],tabStyleData:"/instruments",tabMinWidth:""}),getters:{},actions:{},persist:!0}),$=x=>(q("data-v-1448c20f"),x=x(),U(),x),ue=$(()=>a("img",{src:_e,alt:"",style:{width:"2em",height:"2em"}},null,-1)),re=$(()=>a("span",{class:"menu-font"},"瑞通碳素",-1)),me=$(()=>a("span",null,"全景",-1)),pe=$(()=>a("span",null,"安全",-1)),fe=$(()=>a("span",null,"报表中心",-1)),he=$(()=>a("span",null,"配置中心",-1)),ge=$(()=>a("span",null,"权限中心",-1)),be=L({__name:"index",setup(x){const _=O(),u=D(_.isColl),o=(m,p)=>{console.log(m,p)},r=(m,p)=>{console.log(m,p)},y=(m,p)=>{for(let l=0;l<p;l++)if(console.log(p),m==_.tabsData[l].name)return!1;return!0},w=m=>{let p=k.options.routes[1].children,l="";console.log("router",k.options.routes[1].children);for(let C=0;C<p.length;C++)console.log(p[C].path),p[C].path==m&&(l=p[C].name);y(l,_.tabsData.length)&&(_.tabsData.push({index:_.tabsData.length,name:l,label:m}),console.log(_.tabsData)),_.tabStyleData=m};return W(()=>_.isColl,m=>{u.value=m}),(m,p)=>{const l=s("el-menu-item"),C=s("Histogram"),c=s("el-icon"),M=s("Grid"),T=s("Van"),z=s("TrendCharts"),h=s("ScaleToOriginal"),g=s("el-sub-menu"),d=s("Tickets"),n=s("Setting"),B=s("Lock"),b=s("DocumentAdd"),F=s("UserFilled"),V=s("el-menu");return S(),I(V,{class:"el-menu-vertical-demo",collapse:v(u),onOpen:o,onClose:r,"active-text-color":"","text-color":"white","background-color":"#191A23","unique-opened":"true","default-active":v(_).tabStyleData,router:"",onSelect:w},{default:t(()=>[e(l,{disabled:"true"},{title:t(()=>[re]),default:t(()=>[ue]),_:1}),e(l,{index:"/instruments"},{title:t(()=>[i("仪表盘")]),default:t(()=>[e(c,null,{default:t(()=>[e(C)]),_:1})]),_:1}),e(l,{index:"/voc"},{title:t(()=>[i("Voc")]),default:t(()=>[e(c,null,{default:t(()=>[e(M)]),_:1})]),_:1}),e(l,{index:"/suctionCrane"},{title:t(()=>[i("吸料天车")]),default:t(()=>[e(c,null,{default:t(()=>[e(T)]),_:1})]),_:1}),e(l,{index:"/wetCell"},{title:t(()=>[i("湿电")]),default:t(()=>[e(c,null,{default:t(()=>[e(z)]),_:1})]),_:1}),e(l,{index:"/cems"},{title:t(()=>[i("CEMS")]),default:t(()=>[e(c,null,{default:t(()=>[e(h)]),_:1})]),_:1}),e(l,{index:"/anEscape"},{title:t(()=>[i("氨逃逸")]),default:t(()=>[e(c,null,{default:t(()=>[e(h)]),_:1})]),_:1}),e(l,{index:"/freChanger"},{title:t(()=>[i("变频器")]),default:t(()=>[e(c,null,{default:t(()=>[e(h)]),_:1})]),_:1}),e(l,{index:"/denitration"},{title:t(()=>[i("脱硝")]),default:t(()=>[e(c,null,{default:t(()=>[e(h)]),_:1})]),_:1}),e(l,{index:"/energyMeter"},{title:t(()=>[i("电表")]),default:t(()=>[e(c,null,{default:t(()=>[e(h)]),_:1})]),_:1}),e(l,{index:"/pMatter"},{title:t(()=>[i("颗粒物")]),default:t(()=>[e(c,null,{default:t(()=>[e(h)]),_:1})]),_:1}),e(l,{index:"/dustMeter"},{title:t(()=>[i("除尘电表")]),default:t(()=>[e(c,null,{default:t(()=>[e(h)]),_:1})]),_:1}),e(l,{index:"/accessControl"},{title:t(()=>[i("门禁")]),default:t(()=>[e(c,null,{default:t(()=>[e(h)]),_:1})]),_:1}),e(g,{index:"1"},{title:t(()=>[e(c,null,{default:t(()=>[e(h)]),_:1}),me]),default:t(()=>[e(l,{index:"/imageView"},{default:t(()=>[i("图片")]),_:1}),e(l,{index:"/pointLocation"},{default:t(()=>[i("点位")]),_:1})]),_:1}),e(g,{index:"2"},{title:t(()=>[e(c,null,{default:t(()=>[e(h)]),_:1}),pe]),default:t(()=>[e(l,{index:"/safetyIpc"},{default:t(()=>[i("IPC")]),_:1})]),_:1}),e(g,{index:"3"},{title:t(()=>[e(c,null,{default:t(()=>[e(d)]),_:1}),fe]),default:t(()=>[e(l,{index:"/dailyForm"},{default:t(()=>[i("日报表")]),_:1}),e(l,{index:"/monForm"},{default:t(()=>[i("月报表")]),_:1})]),_:1}),e(g,{index:"4"},{title:t(()=>[e(c,null,{default:t(()=>[e(n)]),_:1}),he]),default:t(()=>[e(l,{index:"/deviceType"},{default:t(()=>[i("设备类型")]),_:1}),e(l,{index:"/equipmentList"},{default:t(()=>[i("设备表")]),_:1}),e(l,{index:"/platformParameter"},{default:t(()=>[i("平台参数")]),_:1})]),_:1}),e(g,{index:"5"},{title:t(()=>[e(c,null,{default:t(()=>[e(B)]),_:1}),ge]),default:t(()=>[e(l,{index:"/ApiManagement"},{default:t(()=>[i("api管理")]),_:1}),e(l,{index:"/roleManagement"},{default:t(()=>[i("角色管理")]),_:1}),e(l,{index:"/userManagement"},{default:t(()=>[i("用户管理")]),_:1})]),_:1}),e(l,{index:"/envProtect"},{title:t(()=>[i("环保维护")]),default:t(()=>[e(c,null,{default:t(()=>[e(b)]),_:1})]),_:1}),e(l,{index:"/meCenter"},{title:t(()=>[i("个人中心")]),default:t(()=>[e(c,null,{default:t(()=>[e(F)]),_:1})]),_:1})]),_:1},8,["collapse","default-active"])}}});const xe=N(be,[["__scopeId","data-v-1448c20f"]]),G=x=>(q("data-v-51adf1c2"),x=x(),U(),x),ve={class:"head-realize-body"},ye={class:"message-body"},Ce={class:"message-body-left"},we={class:"message-body-right"},De={class:"message-body-right-icon"},Se={class:"message-body-right-icon"},ke={class:"message-body-right-icon"},$e={class:"message-body-right-icon"},Ie={class:"message-body-right-icon"},We={class:"message-body-right-icon"},Me={class:"message-body-right-icon"},Te={class:"message-body-right-img"},ze=["src"],Be={style:{display:"inline-block","padding-left":"20px"}},Fe=G(()=>a("div",{style:{"padding-bottom":"5px"}},"当前角色:",-1)),Ve=G(()=>a("hr",null,null,-1)),Ee={style:{display:"flex","align-items":"center","justify-content":"center"}},Ae=["src"],Pe={style:{"padding-left":"10px"}},Le=L({__name:"index",props:["tabWidth"],setup(x){const _=x,u=D(""),o=O();let r=D(!1);W(()=>o.tabStyleData,d=>{u.value=d},{immediate:!0});const y=d=>{for(let n=0;n<o.tabsData.length;n++)if(d==o.tabsData[n].label)return n+1;return!1},w=()=>{let d="/meCenter";for(let n=0;n<o.tabsData.length;n++)if(o.tabsData[n].label==d)return!1;return!0},m=()=>{k.replace("/meCenter"),w()&&(o.tabsData.push({index:o.tabsData.length-1,label:"/meCenter",name:"个人中心"}),o.tabStyleData="/meCenter")},p=d=>{console.log(d);let n=y(d);n&&o.tabsData.length!=1&&(o.tabsData[n-1].label==o.tabStyleData&&(n-1==0?(o.tabStyleData=o.tabsData[1].label,k.replace(o.tabsData[1].label)):(o.tabStyleData=o.tabsData[n-2].label,k.replace(o.tabsData[n-2].label))),o.tabsData.splice(n-1,1))},l=d=>{k.push(d.props.name),o.tabStyleData=d.props.name};let C=D(o.tabsData),c=D(localStorage.getItem("userImg")),M=D(localStorage.getItem("userName")),T=D(localStorage.getItem("user"));const z=()=>{k.replace("/login"),localStorage.clear(),o.$reset()},h=()=>{o.isColl=!o.isColl,console.log(o.isColl)},g=d=>{localStorage.getItem("loginToken")&&(d==="a1"?window.open("http://106.52.170.16:8410/#/"):d==="a2"?window.open("http://106.52.170.16:8409/#/"):d==="a3"?window.open("http://106.52.170.16:8408/#/"):d==="a4"?window.open("http://106.52.170.16:8406/"):d==="a5"?window.open("http://106.52.170.16:8405/#/"):d==="a6"?window.open("http://106.52.170.16:8403/#/"):d==="a7"&&window.open("http://106.52.170.16:8402/#/"))};return W(()=>o.tabsData,d=>{C=d}),(d,n)=>{const B=s("Expand"),b=s("el-icon"),F=s("Fold"),V=s("CameraFilled"),R=s("Pear"),Z=s("Platform"),X=s("Menu"),J=s("Opportunity"),K=s("ZoomIn"),Q=s("Aim"),H=s("el-menu-item"),Y=s("el-menu"),j=s("ArrowDown"),ee=s("el-popover"),te=s("HelpFilled"),ne=s("el-tab-pane"),le=s("el-tabs");return S(),P("div",ve,[a("div",ye,[a("div",Ce,[v(o).isColl?(S(),I(b,{key:0,size:"30",style:{color:"#6b849c"},onClick:h},{default:t(()=>[e(B)]),_:1})):(S(),I(b,{key:1,size:"30",style:{color:"#6b849c"},onClick:h},{default:t(()=>[e(F)]),_:1}))]),a("div",we,[a("div",De,[e(b,{size:"25",onClick:n[0]||(n[0]=f=>g("a1"))},{default:t(()=>[e(V)]),_:1})]),a("div",Se,[e(b,{size:"25",onClick:n[1]||(n[1]=f=>g("a2"))},{default:t(()=>[e(R)]),_:1})]),a("div",ke,[e(b,{size:"25",onClick:n[2]||(n[2]=f=>g("a3"))},{default:t(()=>[e(Z)]),_:1})]),a("div",$e,[e(b,{size:"25",onClick:n[3]||(n[3]=f=>g("a4"))},{default:t(()=>[e(X)]),_:1})]),a("div",Ie,[e(b,{size:"25",onClick:n[4]||(n[4]=f=>g("a5"))},{default:t(()=>[e(J)]),_:1})]),a("div",We,[e(b,{size:"25",onClick:n[5]||(n[5]=f=>g("a6"))},{default:t(()=>[e(K)]),_:1})]),a("div",Me,[e(b,{size:"25",onClick:n[6]||(n[6]=f=>g("a7"))},{default:t(()=>[e(Q)]),_:1})]),a("div",Te,[e(ee,{placement:"top-start",width:200,trigger:"hover",onShow:n[7]||(n[7]=f=>E(r)?r.value=!0:r=!0),onHide:n[8]||(n[8]=f=>E(r)?r.value=!1:r=!1)},{reference:t(()=>[a("div",Ee,[a("img",{src:v(c),alt:"",style:{width:"35px",height:"35px","border-radius":"50%"}},null,8,Ae),a("span",Pe,A(v(T)),1),e(b,{style:{"padding-left":"2px"},class:se(["iconChangeGuocheng",v(r)?"iconChangeXiaoguo":""])},{default:t(()=>[e(j)]),_:1},8,["class"])])]),default:t(()=>[a("img",{src:v(c),alt:"",style:{width:"40px",height:"40px"}},null,8,ze),a("div",Be,[Fe,a("div",null,A(v(M)),1)]),Ve,e(Y,{style:{border:"none"}},{default:t(()=>[e(H,{style:{height:"40px"},onClick:m},{default:t(()=>[i("个人中心")]),_:1}),e(H,{style:{height:"40px"},onClick:z},{default:t(()=>[i("退出登录")]),_:1})]),_:1})]),_:1})])])]),a("div",{class:"tab-body",style:ae({maxWidth:_.tabWidth})},[e(le,{modelValue:v(u),"onUpdate:modelValue":n[9]||(n[9]=f=>E(u)?u.value=f:null),type:"card",class:"demo-tabs",closable:"",onTabRemove:p,onTabClick:l},{default:t(()=>[(S(!0),P(ie,null,de(v(C),f=>(S(),I(ne,{key:f.index,name:f.label},{label:t(()=>[e(b,{style:{"margin-right":"6px"}},{default:t(()=>[e(te)]),_:1}),i(A(f.name),1)]),_:2},1032,["name"]))),128))]),_:1},8,["modelValue"])],4)])}}});const Ne=N(Le,[["__scopeId","data-v-51adf1c2"]]),Oe={class:"home-body",id:"homeWidth"},He={class:"nav-body"},qe={class:"head-body",id:"tabsWidth"},Ue={class:"main-body"},Ge={class:"main-body-window"},Re=L({__name:"index",setup(x){let _=D("");const u=O();return W([()=>u.isColl,()=>u.tabMinWidth],()=>{u.isColl?setTimeout(()=>{var y,w;let o=(y=document.getElementById("tabsWidth"))==null?void 0:y.offsetWidth,r=(w=document.getElementById("homeWidth"))==null?void 0:w.offsetWidth;_.value=Math.round(o/r*100)+"vw",console.log(_.value)},500):(console.log(22222222222222),_.value=u.tabMinWidth,console.log(_.value))},{immediate:!0}),ce(()=>{var o,r;if(!u.isColl){console.log(234);let y=(o=document.getElementById("tabsWidth"))==null?void 0:o.offsetWidth,w=(r=document.getElementById("homeWidth"))==null?void 0:r.offsetWidth;u.tabMinWidth=Math.round(y/w*100)+"vw"}u.isColl=!1}),(o,r)=>{const y=s("router-view");return S(),P("div",Oe,[a("div",null,[a("div",He,[e(xe)])]),a("div",qe,[e(Ne,{tabWidth:v(_)},null,8,["tabWidth"]),a("div",Ue,[a("div",Ge,[e(y)])])])])}}});const Xe=N(Re,[["__scopeId","data-v-85eaf912"]]);export{Xe as default};
